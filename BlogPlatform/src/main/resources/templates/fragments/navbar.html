<nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar-modern" th:fragment="navbar"
	 xmlns:th="http://www.thymeleaf.org"
	 xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<div class="container">
		<a class="navbar-brand" th:href="@{/}">Multi-Author Blog CMS</a>

		<div class="collapse navbar-collapse" id="nawigacja">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
				<li class="nav-item"><a class="nav-link" th:href="@{/}">Start</a></li>

				<li class="nav-item" sec:authorize="isAuthenticated()">
					<a class="nav-link" th:href="@{/dashboard}">Dashboard</a>
				</li>
				<li class="nav-item" sec:authorize="isAuthenticated()">
					<a class="nav-link" th:href="@{/messages/inbox}">Wiadomosci</a>
				</li>
				<li class="nav-item" sec:authorize="hasRole('ADMIN')">
					<a class="nav-link" th:href="@{/admin}">Admin</a>
				</li>
                <li class="nav-item ms-lg-2">
                    <a class="btn btn-outline-light btn-sm btn-search" th:href="@{/search}">Szukaj postow</a>
                </li>
			</ul>
			<div class="d-flex align-items-center gap-2">
				<div sec:authorize="isAuthenticated()" class="text-white small">
					Zalogowany: <span sec:authentication="name">uzytkownik</span>
				</div>
				<div sec:authorize="isAnonymous()">
					<a class="btn btn-outline-light btn-sm" th:href="@{/login}">Logowanie</a>
				</div>
				<div sec:authorize="isAuthenticated()">
					<form th:action="@{/logout}" method="post">
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
						<button class="btn btn-outline-light btn-sm" type="submit">Wyloguj</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</nav>
